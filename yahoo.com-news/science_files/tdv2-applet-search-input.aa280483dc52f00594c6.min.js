webpackJsonp([37],{1225:function(e,t,n){e.exports={controllerViews:{SearchInput:n(1541)},stores:{SearchInputStore:n(1142)}}},1396:function(e,t,n){"use strict";var s=n(3)("SearchInput:setHighlightedSuggestion");e.exports=function(e,t,n){if(s("setHighlightedSuggestion",t),t=t||{},"number"!=typeof t.index)return void n();e.dispatch("SET_HIGHLIGHTED_SUGGESTION",{instanceId:t.instanceId||t.componentProps&&t.componentProps.id,index:t.index}),n()}},1397:function(e,t,n){"use strict";var s=n(3)("SearchInput:setSelectedSuggestion");e.exports=function(e,t,n){if(s("setSelectedSuggestion",t),t=t||{},"number"!=typeof t.index)return void n();e.dispatch("SET_SELECTED_SUGGESTION",{instanceId:t.instanceId||t.componentProps&&t.componentProps.id,index:t.index}),n()}},1523:function(e,t){if(void 0===n)var n={};n.ActionAssistArrow={name:"ActionAssistArrow",height:96,width:96,path:"M67.8 39.797L48.002 20 28.198 39.797c-1.56 1.562-1.56 4.094 0 5.656 1.562 1.562 4.102 1.562 5.66 0l10.14-10.14V76h8V35.31l10.145 10.144c1.562 1.562 4.094 1.562 5.656 0s1.56-4.095 0-5.657z"},void 0!==e&&e.exports&&(e.exports=n.ActionAssistArrow)},1524:function(e,t){if(void 0===n)var n={};n.ActionCross={name:"ActionCross",height:512,width:512,path:"M341.785 271.19c-8.858-8.98-8.858-23.526 0-32.502L445.14 135.342l23.198-23.193c8.882-9 8.882-23.55 0-32.527L431.263 42.5c-8.657-8.666-23.947-8.666-32.542 0L272.278 169.04c-8.615 8.622-23.904 8.622-32.5 0L113.38 42.5c-8.64-8.666-23.928-8.666-32.59 0L43.696 79.67c-8.926 8.933-8.926 23.48 0 32.48L170.14 238.69c4.396 4.38 6.737 10.105 6.737 16.253 0 6.19-2.34 11.984-6.738 16.25L43.694 397.8c-8.926 8.933-8.926 23.524 0 32.5l37.096 37.017c8.662 8.71 23.95 8.71 32.5.066l126.42-126.54c8.662-8.557 23.907-8.557 32.502 0l126.442 126.54c4.287 4.312 10.053 6.724 16.238 6.724 6.207 0 11.977-2.412 16.262-6.723l37.184-37.188c8.882-8.935 8.882-23.46-.043-32.46l-126.51-126.543z"},void 0!==e&&e.exports&&(e.exports=n.ActionCross)},1538:function(e,t,n){"use strict";var s=n(3)("SearchInput:getSuggestions");e.exports=function(e,t,n){s("getSuggestions",t),t=t||{};var o=t.searchTerm||"",i={searchTerm:o,gossipConfig:t.gossipConfig},r=t.instanceId||t.componentProps&&t.componentProps.id,a=Date.now();if(""===o)return e.dispatch("GET_SUGGESTIONS_SUCCESS",{instanceId:r,timeStamp:a,searchTerm:o,searchSuggestions:{hiConf:!1,items:[]}}),void n();e.service.read("searchassist",i,{},function(t,i){if(s("Search assist data",i),t||!i)return e.dispatch("GET_SUGGESTIONS_FAILURE",t),n(t,null);e.dispatch("GET_SUGGESTIONS_SUCCESS",{instanceId:r,timeStamp:a,searchTerm:o,searchSuggestions:i}),n()})}},1539:function(e,t,n){"use strict";var s=n(30).Icon;e.exports=n(4)({displayName:"MagnifyingGlass",autobind:!1,contextTypes:{theme:n(0).object},propTypes:{active:n(0).bool},render:function(){var e=this.context.theme,t=e?e.getIn(["search","style","magnifying_glass","color"],"#000"):"#000",o=n(5)("Pos(a) Z(2) T(7px) Start(14px)",{"D(n)":!this.props.active});return n(1).createElement("div",{className:o},n(1).createElement(s,{asset:n(1155),height:"23",color:t}))}})},1540:function(e,t,n){"use strict";e.exports=n(4)({displayName:"SearchHintInput",autobind:!1,mixins:[n(14)],statics:{storeListeners:[n(1142)]},propTypes:{instanceId:n(0).string.isRequired,searchTerm:n(0).string.isRequired,onSearchHintChanged:n(0).func},getInitialState:function(){return{previousSearchHint:"",searchHint:"",searchTerm:""}},componentWillMount:function(){this.onChange=this.onChange.bind(this),this.store=this.getStore(n(1142))},componentWillReceiveProps:function(e){this.props.searchTerm!==e.searchTerm&&(this.state.previousSearchHint=this.state.searchHint,this.state.searchHint=""),this.state.searchTerm=e.searchTerm},onChange:function(e){var t,n="",s=this._getStoreData();s&&s.suggestions&&s.suggestions.length&&s.selectedSuggestionIndex<0&&(t=s.suggestions[0],n=t.isStrictMatch?t.fullSuggestion:""),this.state.searchHint=n,this.state.previousSearchHint!==this.state.searchHint&&this.props.onSearchHintChanged&&this.props.onSearchHintChanged(n)},render:function(){var e={WebkitAppearance:"none"};return n(1).createElement("input",{className:this.props.className,readOnly:!0,style:e,tabIndex:"-1",value:this.state.searchHint})},_getStoreData:function(){return{selectedSuggestionIndex:this.store.getSelectedSuggestionIndex(this.props.instanceId),suggestions:this.store.getSuggestions(this.props.instanceId)}}})},1541:function(e,t,n){"use strict";var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},o=n(30).Icon,i=n(17).ReactI13n,r=n(17).I13nButton;n(46),e.exports=n(4)({displayName:"SearchInput",autobind:!1,_isSmartphone:!1,propTypes:{autofocus:n(0).bool.isRequired,className:n(0).string,defaultValue:n(0).string,footerComponent:n(0).func,id:n(0).string.isRequired,inputName:n(0).string,isSmartphone:n(0).bool,magnifyingGlass:n(0).bool,onKeyDown:n(0).func,onSearchHintChanged:n(0).func,onSelect:n(0).func,placeholder:n(0).string,searchHint:n(0).bool,showFooter:n(0).bool,templateComponent:n(0).func},contextTypes:{getStore:n(0).func,theme:n(0).object,session:n(0).object},childContexTypes:{theme:n(0).object},mixins:[n(14)],statics:{storeListeners:[n(1142)]},immediateId:null,getInitialState:function(){return{searchTerm:"",highlightedSuggestionIndex:-1,selectedSuggestionIndex:-1,suggestions:[]}},getDefaultProps:function(){return{config:{}}},componentDidMount:function(){var e=this;e.props.autofocus&&(e.immediateId=setImmediate(function(){e.focus()}))},componentWillMount:function(){var e=this;e.onChange=e.onChange.bind(this),e.store=e.getStore(n(1142)),e._isSmartphone=e.props.isSmartphone||!1!==e.props.isSmartphone&&"smartphone"===n(2)(e.context,["session","dimensions","device"])},componentWillUnmount:function(){this.immediateId&&clearImmediate(this.immediateId)},focus:function(){var e=n(10).findDOMNode(this.refs.userInput),t=this.getUserInput().length;e.focus(),e.setSelectionRange&&e.setSelectionRange(t,t)},blur:function(){n(10).findDOMNode(this.refs.userInput).blur()},handleValueChange:function(e){e?this._isSmartphone&&this.props.onFocus&&this.props.onFocus():this._isSmartphone&&this.props.onClear&&this.props.onClear()},setUserInput:function(e,t){n(10).findDOMNode(this.refs.userInput).value=e,this.handleValueChange(e),!0===t&&this.focus()},getUserInput:function(){var e=n(10).findDOMNode(this.refs.userInput);return e&&e.value||""},getClearBtn:function(){var e=this,t={style:{verticalAlign:"initial"}},i={elm:"btn",itc:0,slk:"srch-clear",subsec:"search"};if(e.props.clearBtn&&e.state.searchTerm)return n(1).createElement(r,{className:"Pos(a) W(36px) H(100%) End(0) T(0) P(0) Bdw(0) Bgc(t) O(0) Z(3) Cur(p)",model:i,onClick:e.handleClear.bind(e),type:"button"},n(1).createElement(o,s({asset:n(1524),height:12,color:"#ccc"},t)))},getSearchHintInput:function(){var e={"Fz(18px) Pos(a) W(100%) T(0) Start(0) M(0) C(#c0c0c0) Bgc(#fff) O(0) O(0):f Px(10px) Py(5px) Z(1)":!0,"Bxsh(n) Bxsh(n):f":!0,"Bdrs(0)":!this.props.magnifyingGlass,"Bdrs(3px) Bdw(0)":this._isSmartphone};if(this.props.className&&(e[this.props.className]=!0),this.props.searchHint)return n(1).createElement(n(1540),{className:n(5)(e),instanceId:this.props.id,searchTerm:this.state.searchTerm,onSearchHintChanged:this.props.onSearchHintChanged})},getMaginifyingGlass:function(){return n(1).createElement(n(1539),{active:this.props.magnifyingGlass})},getSuggestions:function(e){"number"==typeof this._getSuggestionsTimeoutID&&(clearTimeout(this._getSuggestionsTimeoutID),this._getSuggestionsTimeoutID=void 0);var t=this;this._getSuggestionsTimeoutID=setTimeout(function(e,s){t.context.executeAction(n(1538),{searchTerm:e,gossipConfig:t.props.config.gossip,instanceId:s})}.bind(t,e,t.props.id),200)},resetSuggestions:function(){this.getSuggestions("")},onChange:function(e){var t=this;t.setState(t._getStoreData(),function(){if(t.state.suggestions&&t.state.selectedSuggestionIndex>-1){var e=t.state.suggestions[t.state.selectedSuggestionIndex]&&t.state.suggestions[t.state.selectedSuggestionIndex].fullSuggestion||"";-1===t.state.highlightedSuggestionIndex&&(t.props.searchHint&&t.props.onSearchHintChanged&&t.props.onSearchHintChanged(e),t.setUserInput(e))}})},handleChange:function(e){var t=e.target.value;this.setState({searchTerm:t}),this.getSuggestions(t)},handleKeyDown:function(e){var t=this,s=i.getInstance();if(t.props.onKeyDown&&t.props.onKeyDown(e),"ArrowDown"===e.key)t.state.selectedSuggestionIndex+1<t.state.suggestions.length&&t.context.executeAction(n(1397),{index:t.state.selectedSuggestionIndex+1,instanceId:t.props.id}),e.preventDefault();else if("ArrowUp"===e.key)t.state.selectedSuggestionIndex-1>-1?t.context.executeAction(n(1397),{index:t.state.selectedSuggestionIndex-1,instanceId:t.props.id}):0===t.state.selectedSuggestionIndex&&t.setUserInput(t.state.searchTerm),e.preventDefault();else if("Escape"===e.key)t.resetSuggestions();else if("Enter"===e.key){e.preventDefault(),t.resetSuggestions();var o={source:t.state.selectedSuggestionIndex>-1?"sa":"sb"};s?s.execute("beacon",{beaconType:"beaconClick",arguments:["uh","srch-enter",0,{elm:"kybrd",itc:0,subsec:"search",tar:"search.yahoo.com",tar_uri:"/search"}]},function(){t.props.onSelect&&t.props.onSelect(o)}):t.props.onSelect&&t.props.onSelect(o)}else 32!==e.keyCode||t.getUserInput().length||t.blur()},handleKeyUp:function(){this.handleValueChange(this.getUserInput())},handleBlur:function(e){this._isSmartphone||this.resetSuggestions()},clearInput:function(){this.setState({searchTerm:""}),this.setUserInput(""),this.resetSuggestions()},handleClear:function(e){this.clearInput(),this.focus()},handleSelect:function(e){var t={source:this.state.selectedSuggestionIndex>-1?"sa":"sb"};this.setUserInput(e.fullSuggestion),this.resetSuggestions(),this.props.onSelect&&this.props.onSelect(t)},handleItemEnter:function(e){this.context.executeAction(n(1396),{index:e,instanceId:this.props.id})},handleItemExit:function(e){this.context.executeAction(n(1396),{index:-1,instanceId:this.props.id})},handleTermComplete:function(e){var t=this.state.suggestions[e].fullSuggestion;this.setState({searchTerm:t}),this.setUserInput(t),this.getSuggestions(t),this.focus()},shouldComponentUpdate:function(e,t){return t.searchTerm!==this.state.searchTerm||t.highlightedSuggestionIndex!==this.state.highlightedSuggestionIndex||t.selectedSuggestionIndex!==this.state.selectedSuggestionIndex||t.suggestions!==this.state.suggestions},render:function(){var e=this,t=e.context.session.isLightWeightBrowser,s=e.props.defaultValue||e.getStore(n(1142)).state.query,o=n(5)("Z(2)",{"Pos(r)":!e._isSmartphone}),i=n(5)({"Pos(r)":e._isSmartphone}),r={"Pos(r) W(100%) M(0) O(0) O(0):f Bgc(#fff) Z(2) Bxsh(n) Bxsh(n):f Fz(15px) Px(15px) Py(8px)":!0,"Bgc(t)":e.props.searchHint,"Bdrs(0)":!e.props.magnifyingGlass,"Pend(0px)":t,"Pstart(10px)":!e.props.magnifyingGlass&&!t,"Pend(10px)":!e.props.clearBtn&&!t,"Pstart(40px)":e.props.magnifyingGlass&&!t&&!e._isSmartphone,"Pstart(50px)":e.props.magnifyingGlass&&!t&&e._isSmartphone,"Pend(38px)":e.props.clearBtn&&!t,"Bdrs(3px) Bdw(0) Fz(18px)":e._isSmartphone};e.props.className&&(r[e.props.className]=!0);var a={WebkitAppearance:"none"};return t?n(1).createElement("div",{className:o,id:e.props.id},n(1).createElement("div",{className:i},n(1).createElement("input",{"aria-label":"Search",autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",className:n(5)(r),defaultValue:s,key:"userInput",name:e.props.inputName,placeholder:e.props.placeholder,ref:"userInput",style:a,type:"text"}))):n(1).createElement("div",{className:o,id:e.props.id,onBlur:e.handleBlur.bind(e),onKeyDown:e.handleKeyDown.bind(e),onKeyUp:e.handleKeyUp.bind(e)},n(1).createElement("div",{className:i},n(1).createElement("input",{"aria-label":"Search",autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",className:n(5)(r),defaultValue:s,key:"userInput",name:e.props.inputName,onChange:e.handleChange.bind(this),placeholder:e.props.placeholder,ref:"userInput",style:a,type:"text"}),this.props.magnifyingGlass&&this.getMaginifyingGlass(),this.getSearchHintInput(),this.getClearBtn()),n(1).createElement(n(1543),{footerComponent:e.props.footerComponent,instanceId:e.props.id,isSmartphone:e._isSmartphone,onSelect:e.handleSelect.bind(this),onItemEnter:e.handleItemEnter.bind(e),onItemExit:e.handleItemExit.bind(e),query:e.state.searchTerm,showFooter:e.props.showFooter,termCompleteBtn:e.props.termCompleteBtn,termCompleteHandler:e.handleTermComplete.bind(e),templateComponent:e.props.templateComponent}))},_getStoreData:function(){var e=this;return{highlightedSuggestionIndex:e.store.getHighlightedSuggestionIndex(e.props.id),selectedSuggestionIndex:e.store.getSelectedSuggestionIndex(e.props.id),suggestions:e.store.getSuggestions(e.props.id)}}})},1542:function(e,t,n){"use strict";var s=n(30).Icon,o=n(17).I13nButton,i=n(17).ReactI13n;e.exports=n(4)({displayName:"SearchSuggestionItem",autobind:!1,propTypes:{index:n(0).number,isSelected:n(0).bool,isSmartphone:n(0).bool,onSelect:n(0).func,onEnter:n(0).func,onExit:n(0).func,suggestion:n(0).object,templateComponent:n(0).func,termCompleteBtn:n(0).bool,termCompleteHandler:n(0).func},mixins:[n(14)],getTermCompleteBtn:function(){var e=this;if(e.props.termCompleteBtn&&!e.props.templateComponent){var t={cpos:e.props.index,elm:"btn",itc:0,slk:"srch-asst-complete",subsec:"search"};return n(1).createElement(o,{className:"Pos(a) W(36px) H(100%) End(0) T(0) P(0) Bdw(0) Bgc(t) O(0) Cur(p)",model:t,onClick:e.handleTermComplete.bind(e),type:"button"},n(1).createElement(s,{asset:n(1523),className:"Rotate(-45deg)",height:"28",color:"#ccc"}))}},handleItemClick:function(e){var t=this,n=t.props.suggestion,s=i.getInstance();s?s.execute("beacon",{beaconType:"beaconClick",arguments:["uh","srch-asst",0,{cpos:t.props.index,elm:"btn",itc:0,subsec:"search",tar:"search.yahoo.com",tar_uri:"/search"}]},function(){t.props.onSelect&&t.props.onSelect(n)}):t.props.onSelect&&t.props.onSelect(n)},handleItemEnter:function(e){this.props.onEnter&&this.props.onEnter(this.props.index)},handleItemExit:function(e){this.props.onExit&&this.props.onExit(this.props.index)},handleTermComplete:function(e){e.preventDefault(),e.stopPropagation(),this.props.termCompleteHandler&&this.props.termCompleteHandler(this.props.index)},render:function(){var e=this,t=n(5)("D(b) Td(n) Cur(d)",{"Mend(36px)":!e.props.templateComponent}),s=n(5)("Pos(r) Fz(15px)! Cur(p)",{"Bgc(#c6d7ff)":e.props.isSelected,"Bd Bdc(#f1f1f1) Bdw(0) Bdbw(1px) Py(10px) Px(20px)":e.props.isSmartphone,"Py(4px) Px(10px)":!e.props.isSmartphone}),o=e.props.templateComponent||n(1544);return n(1).createElement("li",{className:s,onClick:e.handleItemClick.bind(e),onMouseEnter:e.handleItemEnter.bind(e),onMouseLeave:e.handleItemExit.bind(e)},this.getTermCompleteBtn(),n(1).createElement("div",{className:t},n(1).createElement(o,{suggestion:this.props.suggestion})))}})},1543:function(e,t,n){"use strict";e.exports=n(4)({displayName:"SearchSuggestionList",autobind:!1,propTypes:{footerComponent:n(0).func,isSmartphone:n(0).bool,instanceId:n(0).string.isRequired,onSelect:n(0).func,onItemEnter:n(0).func,onItemExit:n(0).func,showFooter:n(0).bool,termCompleteBtn:n(0).bool,termCompleteHandler:n(0).func,templateComponent:n(0).func},contextTypes:{getStore:n(0).func},mixins:[n(14)],statics:{storeListeners:[n(1142)]},getInitialState:function(){return{highlightedSuggestionIndex:-1,selectedSuggestionIndex:-1,suggestions:[]}},componentWillMount:function(){this.onChange=this.onChange.bind(this),this.store=this.getStore(n(1142))},onChange:function(e){this.setState(this._getStoreData())},handleItemClick:function(e){this.props.onSelect&&this.props.onSelect(e)},handleItemEnter:function(e){this.props.onItemEnter&&this.props.onItemEnter(e)},handleItemExit:function(e){this.props.onItemExit&&this.props.onItemExit(e)},handleTermComplete:function(e){this.props.termCompleteHandler&&this.props.termCompleteHandler(e)},renderFooter:function(){var e=this.props,t=e.footerComponent;return!0===e.showFooter&&t?n(1).createElement(t,{query:e.query}):null},render:function(){var e=this,t=n(5)("Pos(a) Ta(start) Start(0) End(0) Bgc(#fff) Z(1) Wob(ba)",{"D(n)":!e.state.suggestions.length,"Bd Bdc(#aaa) Bdtw(0) Mt(-1px) Whs(n)":!e.props.isSmartphone,"Mt(11px)":e.props.isSmartphone});return n(1).createElement("div",{className:t,key:"satray"},n(1).createElement("ul",{className:"M(0)"},e.state.suggestions.map(function(t,s){var o=e.state.selectedSuggestionIndex===s||e.state.highlightedSuggestionIndex===s;return n(1).createElement(n(1542),{index:s,isSmartphone:e.props.isSmartphone,key:s,isSelected:o,onSelect:e.handleItemClick.bind(e),onEnter:e.handleItemEnter.bind(e),onExit:e.handleItemExit.bind(e),suggestion:t,templateComponent:e.props.templateComponent,termCompleteBtn:e.props.termCompleteBtn,termCompleteHandler:e.handleTermComplete.bind(e)})})),e.renderFooter())},_getStoreData:function(){var e=this;return{highlightedSuggestionIndex:e.store.getHighlightedSuggestionIndex(e.props.instanceId),selectedSuggestionIndex:e.store.getSelectedSuggestionIndex(e.props.instanceId),suggestions:e.store.getSuggestions(e.props.instanceId)}}})},1544:function(e,t,n){"use strict";e.exports=n(4)({displayName:"SearchSuggestionTemplate",autobind:!1,propTypes:{suggestion:n(0).object},mixins:[n(1171)]})}});