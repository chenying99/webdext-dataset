webpackJsonp([28],{1212:function(e,t,n){e.exports={controllerViews:{DiscussionCarousel:n(2633),DiscussionItem:n(2234),DiscussionList:n(2634),DiscussionListItem:n(2235),DiscussionListFlyout:n(1808),Flyout:n(1537),FlyoutContainer:n(2636),DiscussionStreamItem:n(2635)},stores:{DiscussionStore:n(2050),FlyoutStore:n(1809)}}},1295:function(e,t,n){"use strict";var a={article:"story"},s="undefined"!=typeof window;e.exports={isLazyLoad:function(e,t){return t>=0&&e<t},isSidekick:function(e){return e&&-1!==e.indexOf("SIDEKICK")},updateQueryParam:function(e,t){t=t||{};var a=n(21).parse(e,!0);return a.search=void 0,a.query=Object.assign({},a.query,t),n(21).format(a)},getLoopIndex:function(e,t,n){if(!n)return e+t;var a=(e+t)%n;return a<0?a+n:a},getRelatedUuids:function(e,t,n){var a=t.length,s=[];if(0===a||0===e||n>=a)return s;for(var i=n;s.length<e&&(i=++i%a)!==n;)t[i]&&t[i].uuid&&s.push(t[i].uuid);return s},getResizedImage:function(e,t){return e=e||{},e[t]||e.original},getCommentString:function(e){if(!e)return"";return e>=1e6?parseFloat((e/1e6).toFixed(2))+"m":e>=1e5?parseFloat((e/1e3).toFixed(0))+"k":e>=1e3?parseFloat((e/1e3).toFixed(1))+"k":e.toString()},getBaseI13n:function(e,t,n){var s=e.type,i={itc:0,g:e.uuid||e.id};this.isSidekick(n)?(i.cat=n,i.ccode=e.ccode,i.ct=a[s]||s,i.subsec="sentiment",i.sec="sdkick"):i.sec="jtc";var o=this.parseUrl(e.link||e.url||"");o&&(i.tar=o.host,i.tar_uri=o.pathname);var r=e.title;return r&&(i.slk=r),i.cpos=t+1,i.pos=t+1,i},getTypeIcon:function(e){var t=["video","slideshow"],n=e.type;return t.indexOf(n)>=0?n:""},getSentimentsRatio:function(e,t,n){if(void 0===e||void 0===n||void 0===t)return null;var a=e+n+t;if(!a)return null;var s=Math.round(e/a*100),i=Math.round(n/a*100);return{negative:s,neutral:i,positive:100-s-i}},parseUrl:function(e){if(e=e.split("?")[0]){if("/"===e.charAt(0))return{host:s?window.location.host:"",pathname:e,protocol:s?window.location.protocol:""};var t=e.split("/");return{host:t[2],pathname:"/"+t.slice(3).join("/"),protocol:t[0]}}return null},processStreamData:function(e){var t=e.get("comments")||n(6).Map(),a=t.toJS(),s=e.get("images")||n(6).Map();return{bypassModal:e.get("bypassModal"),ccode:e.get("ccCode"),commentCount:parseInt(a.totalCount,10)||0,imageSize:s.toJS(),link:e.get("link")||"",title:e.get("title")||"",topRatedComments:a.topRated||[],total_negative_comments:parseInt(a.negativeCount,10)||0,total_neutral_comments:parseInt(a.neutralCount,10)||0,total_postive_comments:parseInt(a.positiveCount,10)||0,type:e.get("subtype")||e.get("type"),uuid:e.get("id")||""}}}},1537:function(e,t,n){"use strict";var a="undefined"!=typeof window?window:null;e.exports=n(4)({autobind:!1,displayName:"Flyout",mixins:[n(14)],propTypes:{align:n(0).oneOf(["left","right"]),alignToViewport:n(0).bool,componentProps:n(0).object.isRequired,fixedToParent:n(0).bool,flyoutWidth:n(0).number,flyoutHeight:n(0).number,onMouseEnter:n(0).func,onMouseLeave:n(0).func,parentNode:n(0).object.isRequired,relativeToParent:n(0).bool,triangleFillColor:n(0).string},getDefaultProps:function(){return{align:"right",Component:null,componentProps:{},flyoutWidth:370,flyoutHeight:482,parentNode:null,relativeToParent:!1,triangleFillColor:"#ffffff"}},calculatePositions:function(){var e=this.props;if(!a)return null;var t=e.flyoutHeight,n=e.parentNode&&e.parentNode.getBoundingClientRect();if(!n)return null;var s=n.height/2,i=0;e.fixedToParent&&(i=n.top-a.innerHeight+t);var o=a.innerHeight-n.top;if(e.alignToViewport&&o<t){var r=this.getViewPortAlignedPos(o,i,t,n.height);s=r.arrow,i=r.flyout}return"left"===e.align?this.getLeftAlignedFlyoutStyles(s,i,n.top,n.left):"right"===e.align?this.getRightAlignedFlyoutStyles(s,i,n.top,n.right):null},getLeftAlignedFlyoutStyles:function(e,t,n,a){var s=this.props,i=-(s.flyoutWidth+s.paddingRight);return s.relativeToParent||(t+=n,i+=a),{arrowStyles:{left:s.flyoutWidth+1,top:e,transform:"rotate(180deg)"},wrapperStyles:{left:i,top:t}}},getRightAlignedFlyoutStyles:function(e,t,n,a){var s=this.props,i=-(s.flyoutWidth+s.paddingLeft);return s.relativeToParent||(t+=n,i=-(i+a)),{arrowStyles:{right:s.flyoutWidth-1,top:e},wrapperStyles:{right:i,top:t}}},getViewPortAlignedPos:function(e,t,n,a){var s=e<a/2,i=n-e;return{arrow:s?i:i+a/2,flyout:-i}},render:function(){var e=this.props,t=e.Component;if(!t||!e.parentNode)return null;var a=this.calculatePositions();if(!a)return null;var s={height:e.flyoutHeight,width:e.flyoutWidth,paddingTop:e.paddingTop||0,paddingBottom:e.paddingBottom||0,paddingLeft:e.paddingLeft||0,paddingRight:e.paddingRight||0},i=a.arrowStyles,o=e.componentProps,r=Object.assign({},s,a.wrapperStyles),l={borderRightColor:e.triangleFillColor};return n(1).createElement("div",{className:"Pos(a)",style:r,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave},n(1).createElement(t,o),n(1).createElement("div",{className:"Z(3) C(t) Pos(a) W(0) H(0) Bds(s) Bdtc(t) Bdbc(t) Bdendc(#b9bdc5) Bdendw(12px) Bdtw(12px) Bdbw(12px)",style:i},n(1).createElement("div",{className:"Pos(r) Scale(1.4) T(-9px) W(0) H(0) Bdtc(t) Bdbc(t) Bds(s) Bdtw(9px) Bdbw(9px) Bdendw(9px)",style:l})))}})},1584:function(e,t,n){e.exports={hide:function(e,t,a){var s=e.getStore(n(1809)),i=t.id;s&&s.isFlyoutShown(i)&&e.dispatch("FLYOUT_HIDE",t),a&&a()},show:function(e,t,n){e.dispatch("FLYOUT_SHOW",t),n&&n()}}},1808:function(e,t,n){"use strict";var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=n(28).FormattedMessage,i=n(28).FormattedRelative,o=n(1141).Controller,r=n(30).Icon,l=n(17).I13nDiv;e.exports=(0,n(28).injectIntl)(n(4)({autobind:!1,displayName:"DiscussionListFlyout",mixins:[n(14)],propTypes:{ad:n(0).object,comments:n(0).array.isRequired,commentsCount:n(0).number,index:n(0).number},contextTypes:{i13n:n(0).object},getDefaultProps:function(){return{ad:null,comments:null,commentsCount:0,index:0}},componentDidMount:function(){this.fireLinkView()},fireLinkView:function(e){var t={pos:this.props.index,subsec:this.props.isSidekick?"sentiment":"flyout"};this.context.i13n.executeEvent("beacon",{beaconType:"beaconLinkViews",arguments:[[{sec:this.props.isSidekick?"sdkick":"jtc",_links:[t]}]]},e)},renderComment:function(e){var t=this.props.intl.formatNumber(this.props.commentsCount)+" ",i=n(1).createElement("span",{className:"Pstart(5px) Lh(28px) Fz(14px) C(#0081f2) D(ib) Fw(b)"},t,n(1).createElement(s,{id:"REACTIONS",defaultMessage:"reactions"}),n(1).createElement("i",{className:"P(5px) Fz(12px)"},"•"),n(1).createElement(s,{id:"JOIN_THE_CONVERSATION",defaultMessage:"Join the Conversation"}));return n(1).createElement(n(278),a({className:"Mstart(26px) Mt(16px) Td(n) D(ib)"},e),n(1).createElement(r,{asset:n(1150),height:"20px",color:"#0081f2",style:{position:"relative",margin:"auto",verticalAlign:"middle"}}),i)},renderSentiment:function(){var e=n(5)("Bg(sentimentPointerImg) Anim(moveAnimation) Bgz(19px, 42px) Trfo(bottom)","Pos(a) Start(148px) T(30px) W(19px) H(42px)"),t=this.props.sentiment,a=n(5)("Bdtw(1px) W(317px) Bdts(d) Bdtc(#b9bdc5) Fz(13px) Pt(7px) Fw(500)","Lh(15px) C(#000000) Ta(c)"),i=this.props.sentimentDegree+"deg";return n(1).createElement("div",{className:"Mt(14px) Mstart(26px) Mend(33px)"},n(1).createElement("div",{className:"Pos(r) T(1px)"},n(1).createElement(n(73),{className:"W(150px) H(74px) Mstart(83px) Bgc(white)",url:"https://s.yimg.com/dh/ap/default/161020/spectrum1476995021.png"}),n(1).createElement("span",{className:e,style:{transform:"rotate("+i+")"}})),n(1).createElement("div",{className:a},"neutral"===t?n(1).createElement(s,{id:"CONVERSATION_NEUTRAL",defaultMessage:"Conversations around this story are mostly ",values:{neutral:n(1).createElement("span",{style:{color:"#ff7b12"}},n(1).createElement(s,{id:"NEUTRAL",defaultMessage:"neutral"}))}}):n(1).createElement(s,{id:"CONVERSATION",defaultMessage:"Conversations around this story lean ",values:{sentiment:t,positive:n(1).createElement("span",{style:{color:"#1ac567"}},n(1).createElement(s,{id:"POSITIVE",defaultMessage:"positive"})),negative:n(1).createElement("span",{style:{color:"#f0162f"}},n(1).createElement(s,{id:"NEGATIVE",defaultMessage:"negative"}))}})))},renderUserComments:function(){var e=this,t=e.props.comments;if(t){t=t.slice(0,2);var a=t.map(function(t,a){var s=t.comment,o=new Date(t.createTime);isNaN(o)&&(o=1e3*parseInt(t.createTime,10));var r=n(1).createElement("i",{className:"P(4px) Fz(11px) C(#b9bdc5)"},"•"),l="cmnt-"+a,c=t.userProfile||{},u=c.nickName||e.props.intl.formatMessage({id:"APPLET_COMMENT_YAHOO_READER"}),d=n(1).createElement(n(1165),{src:c.imageUrl,name:u,enableAlphatar:!0,size:25});return n(1).createElement("li",{key:l,className:"Mb(16px)"},d,n(1).createElement("div",{className:"D(ib) Va(tb) Pstart(8px)"},n(1).createElement("span",{className:"user Fz(12px) Lh(14px) C(#26282a) Fw(b)"},u),r,n(1).createElement("span",{className:"time Fz(11px) Lh(14px) C(#b9bdc5) Ta(start)"},n(1).createElement(i,{value:o}))),n(1).createElement("div",{className:"cmnt H(54px) Pt(4px) Fz(13px) Va(sup) Lh(18px) C(#000000) Lts(0) LineClamp(3,54px)"},s))});return n(1).createElement("ul",{className:"cmntlist"},a)}},render:function(){var e=this.props,t=e.ad,s=n(5)("Bxsh(discussionFlyoutBoxShadow) W(370px) Bg(#ffffff) Bdw(1px) Bds(s)","Bdc(#b9bdc5) Bdrs(2px)"),i=n(5)("C(#000000) C(#0078ff):h Fz(14px) Fw(b) Lh(18px) LineClamp(2,36px)"),r=e.url||"",c=Object.assign({category:"",pageTitle:e.title,url:r,uuid:e.uuid},e.navParams),u={followLink:e.bypassModal||"/"!==r.charAt(0),href:e.url,navParams:c},d=Object.assign({},u,{model:Object.assign({},{elm:"hdln",subsec:"flyout"},e.model)}),m=Object.assign({},c,{collapseContent:!0}),p=Object.assign({},u,{navParams:m}),h=Object.assign({},{elm:"flyout",subsec:"flyout"},e.model),f=Object.assign({},p,{model:Object.assign({},{elm:"cmmt",subsec:"flyout"},e.model)}),g="flyout-"+e.index;return n(1).createElement(l,{id:g,className:"Pos(a) Z(2)",i13nModel:h},n(1).createElement("div",{className:s},this.renderComment(f),n(1).createElement("p",{className:"Bdbw(1px) Bdbs(s) Bdbc(#b9bdc5) Op(0.4) Mt(10px) Mstart(26px) Mend(24px)"}),n(1).createElement(n(278),a({className:"Td(n) D(b) Mt(14px) Mstart(26px) Mend(22px)"},d),n(1).createElement("h3",{className:i},e.title)),n(1).createElement(n(278),a({className:"Td(n) D(b) Mt(14px) Mstart(25px) Mend(22px)"},f),this.renderUserComments()),this.renderSentiment(),n(1).createElement("p",{className:"Bdbw(1px) Bdbs(s) Mt(16px) Bdbc(#b9bdc5) Op(0.4)"}),n(1).createElement(o,{component:n(2637),className:"H(78px) Pos(r) Bg(#f4f5fa) Pt(13px)",choicesUrl:e.adchoicesUrl,data:t,nativeAdDimension:e.nativeAdDimension,sponsoredUrl:e.sponsoredUrl})))}}))},1809:function(e,t,n){"use strict";e.exports=n(16)({statics:{storeName:"FlyoutStore",handlers:{FLYOUT_SHOW:"_show",FLYOUT_HIDE:"_hide",NAVIGATE_START:"_clear"}},initialize:function(){this.flyouts={}},defaults:{Component:null,componentProps:{}},_debouncedEmitChange:n(287)(function(){this.emitChange()},300),_show:function(e){var t=e.id;if(t){var n=this.flyouts[t],a=Object.assign({},this.defaults,n,e.data);a.show=!0,this.flyouts[t]=a,this._debouncedEmitChange()}},_hide:function(e){var t=e.id,n=e.delay;t&&this.flyouts[t]&&(this.flyouts[t].show=!1,this.flyouts[t].hideDelay=n,n?this._debouncedEmitChange():this.emitChange())},_clear:function(){this.flyouts={},this.emitChange()},isFlyoutShown:function(e){return e&&this.flyouts[e]?this.flyouts[e].show:null},getFlyouts:function(){return this.flyouts},dehydrate:function(){return this.flyouts},rehydrate:function(e){this.flyouts=e}})},2048:function(e,t,n){"use strict";function a(){return c=i(n(1))}function s(){return u=i(n(2))}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c,u,d=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),m=function(e){function t(e){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return l(t,e),d(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.items,i=e.index,o=n&&n[i];if(!o)return null;var r=o.comment,l=(0,(u||s()).default)(o,["userProfile","nickName"]);return l=l?l+": ":null,(c||a()).default.createElement("p",{className:t},(c||a()).default.createElement("span",{className:"Fw(b)"},l),(c||a()).default.createElement("span",{dangerouslySetInnerHTML:{__html:r}}))}}]),t}((c||a()).default.Component);m.defaultProps={index:0,items:[]},m.displayName="CommentSlider",t.default=m,e.exports=t.default},2049:function(e,t,n){"use strict";e.exports=n(4)({autobind:!1,displayName:"ProfileImageSlider",propTypes:{classNames:n(0).string,iconSize:n(0).number,index:n(0).number,items:n(0).array.isRequired},getDefaultProps:function(){return{classNames:"Pos(r) H(25px) W(32px)",iconSize:25,index:0,items:[]}},getItemStyle:function(e){return{left:6*e-4,transform:"scale("+(1-.12*(2-e))+")"}},getLoopIndex:function(e,t,n){var a=(e+t)%n;return a<0?a+n:a},getItems:function(){var e,t=this.props.index,a=n(2)(this.props,["items","length"],0),s=this.props.items,i=[];for(e=0;e<3;e++){var o=this.getLoopIndex(t,2-e,a),r=this.getItemStyle(e);i.push(n(1).createElement("li",{key:"jtd-item-"+o,className:"Pos(a)",style:r},n(1).createElement(n(73),{checkPosition:!1,className:"Bdrs(50%) Bdw(2px) Bdc(#ffffff) Bds(s) Bxz(bb)",height:this.props.iconSize,width:this.props.iconSize,url:s[o]})))}return i},render:function(){var e=this.props;if(0===e.items.length)return null;var t=this.getItems();return n(1).createElement("ul",{className:e.classNames},t)}})},2050:function(e,t,n){"use strict";e.exports=n(16)({storeName:"DiscussionStore",statics:{handlers:{LOAD_DISCUSSION_DATA_SUCCESS:"_handleDataSuccess",LOAD_DISCUSSION_DATA_FAILURE:"_handleDataFailure"}},initialize:function(){this.data={}},_handleDataFailure:function(e){},_handleDataSuccess:function(e){if(e&&e.data){this.data[e.category]=e.data,this.emitChange()}},getDiscussionList:function(e){var t=this.data[e];return t||null},dehydrate:function(){return{data:this.data}},rehydrate:function(e){this.data=e.data}})},2233:function(e,t,n){"use strict";e.exports=function(e,t,a){var s=t.componentProps||{},i=s.componentConfig||{},o=n(2)(e,["session","query"])||{},r=e.getStore("RouteStore").getCurrentRoute(),l=n(45).getContentSite(r,e),c=i.category,u=c,d={category:o.category||c,comments:!0,count:i.count,enable_canvass_comments:n(2)(i,["ui","enable_canvass_comments"]),maxCount:i.maxCount,link_out_allowed:i.linkOutAllowed,relative_links:i.relative_links,resizeTag:i.resizeTag,requireArticleWithComments:i.requireArticleWithComments,requireResizedImage:i.requireResizedImage,requireResizeTags:i.requireResizeTags,site:l,smart_crop:n(2)(i,["ui","smart_crop"],!1),sentiment_comments_enabled:i.sentimentCommentsEnabled,top_rated_comments_enabled:i.topRatedCommentsEnabled};e.service.read("CommonStreamService",d,{},function(t,s){if(t||!s)return e.dispatch("LOAD_DISCUSSION_DATA_FAILURE",{err:t,category:u}),a&&a(t);n(2)(i,["isHeadlineReaction"])&&s.length&&s.splice(1),e.dispatch("LOAD_DISCUSSION_DATA_SUCCESS",{data:s,category:u}),a&&a()})}},2234:function(e,t,n){"use strict";var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=n(17).I13nDiv,i=n(17).I13nButton,o=n(30).Icon,r=n(28).injectIntl,l="undefined"!=typeof window?window:null;e.exports=r(n(4)({autobind:!1,contextTypes:{session:n(0).object},displayName:"DiscussionItem",propTypes:{appendQueryParam:n(0).object,autoRotation:n(0).bool,className:n(0).string,category:n(0).string,data:n(0).object.isRequired,index:n(0).number,total:n(0).number,onClickPrev:n(0).func,onClickNext:n(0).func},getDefaultProps:function(){var e=function(){};return{autoRotation:!1,rotationInterval:5e3,data:null,index:0,isHeadlineReaction:!1,total:0,appendQueryParam:{},onClickPrev:e,onClickNext:e}},getInitialState:function(){return this.timer=null,this.props.autoRotation&&this._enableAutoRotation(),this._getState()},componentWillReceiveProps:function(e){e.autoRotation?this._enableAutoRotation():this._disableAutoRotation(),e.data!==this.props.data&&this.setState(this._getState())},componentWillUnmount:function(){this._disableAutoRotation()},shouldComponentUpdate:function(e,t){return e.data!==this.props.data||e.index!==this.props.index||t.commentIndex!==this.state.commentIndex},_getState:function(){return{commentIndex:0}},_jump:function(e){var t=n(2)(this.props,["data","topRatedComments","length"],0);this.setState({commentIndex:n(1295).getLoopIndex(this.state.commentIndex,e,t)})},_enableAutoRotation:function(){l&&(this._disableAutoRotation(),this.timer=setInterval(function(){this._jump(1)}.bind(this),this.props.rotationInterval))},_disableAutoRotation:function(){l&&this.timer&&clearInterval(this.timer)},renderCommentThread:function(e,t){var a,s,i,o=e&&e[t];if(!o)return null;var r=this.context.session.getBucketMeta(),l=n(2)(r,["feature.hrConversation"],!1),c="C(#000) Fz(12px) Lh(14px) LineClamp(3,42px)",u="C(#000) Fw(b) Fz(12px) Lh(14px) D(b) Pb(6px) Pt(4px)",d="W(25px) H(25px) Bdrs(50%) Bdw(2px) Bdc(#ffffff) Bds(s) Bxz(bb)",m=o.comment,p=n(2)(o,["userProfile","nickName"],null),h=n(2)(o,["userProfile","imageUrl"]),f=o.replies;return f&&(i=f.comment,a=n(2)(f,["userProfile","nickName"],null),s=n(2)(f,["userProfile","imageUrl"])),n(1).createElement("div",{className:"comment-thread Mt(10px)"},n(1).createElement("div",{className:"Fl(start) Pos(r) W(32px)"},n(1).createElement(n(73),{url:h,checkPosition:!1,className:d})),n(1).createElement("div",{className:n(5)("Mstart(32px) Mb(10px)",{"Mend(32px)":l})},n(1).createElement("span",{className:u},p),n(1).createElement("p",{className:c},n(1).createElement("span",{dangerouslySetInnerHTML:{__html:m}}))),n(1).createElement("div",{className:n(5)("Pos(r) W(32px)",{"Fl(start)":!l,"Fl(end)":l})},n(1).createElement(n(73),{url:s,checkPosition:!1,className:d})),n(1).createElement("div",{className:n(5)("Mstart(32px)",{"Mend(32px)":l})},n(1).createElement("span",{className:n(5)(u,{"Fl(end) P(6px)":l})},a),n(1).createElement("p",{className:n(5)(c,{"Cl(b) Ta(end)":l})},n(1).createElement("span",{dangerouslySetInnerHTML:{__html:i}}))))},render:function(){var e=this.props,t=this.state,r=e.data,l=e.index,c=e.total;if(!r)return null;r.id=r.uuid;var u,d,m=t.commentIndex,p=n(1295).updateQueryParam(r.link||r.url||"",e.appendQueryParam),h=e.isHeadlineReaction,f={category:"",pageTitle:r.title,url:p,uuid:r.id,renderTarget:e.renderTarget||"default"},g={followLink:r.bypassModal||"/"!==p.charAt(0),href:p,navParams:f},v=Object.assign({},g,{model:{elm:"hdln"}}),y=n(1295).getResizedImage(r.imageSize,"img:45x45");y&&(d=Object.assign({},g,{model:{elm:"img"},style:{paddingBottom:Math.round(y.height/y.width*100)+"%"}}));var x=Object.assign({},f,{collapseContent:!0}),b=Object.assign({},g,{navParams:x}),E=Object.assign({},b,{model:{elm:"hdln",subsec:"comments"}}),N=Object.assign({},b,{model:{elm:"img",subsec:"comments"}}),C=Object.assign({},b,{model:{elm:"btn",subsec:"commentbubble"}}),P=Object.assign({},b,{model:{elm:"nav",subsec:"jtc"}});h||(u=(r.topRatedComments||[]).map(function(e){return n(2)(e,["userProfile","imageUrl"])}));var S=n(1295).getBaseI13n(r,l),I=Object.assign({},S,{itc:1,elm:"btn",subsec:"arrows"});return h&&e.i13n&&e.i13n.sec&&(S.sec=e.i13n.sec),n(1).createElement(s,{className:n(5)("Px(14px) Pt(12px) Pb(10px)",e.className),i13nModel:S},n(1).createElement("div",{className:"Pos(r) H(45px) Mb(7px) Cf"},y?n(1).createElement("div",{className:"Fl(start) Pos(r) Z(1) W(45px) Pend(9px)"},n(1).createElement(n(278),a({className:"D(b) H(0) Ov(h) Bdrs(2px)"},d),n(1).createElement(n(73),{url:y.url,checkPosition:!1,className:"W(100%)"}))):null,n(1).createElement("div",{className:"Ov(h) Pt(6px)"},n(1).createElement("h3",{className:"Mb(5px)"},n(1).createElement(n(278),a({className:"Td(n)"},v),n(1).createElement("u",{className:"StretchedBox"}),n(1).createElement("div",{className:"Fw(b) Fz(13px) Lh(16px) LineClamp(2,32px) Pos(r) C(#0078ff)"},r.title))))),h?n(1).createElement("div",{className:n(5)("Pos(r) Mb(7px) Cf",{"H(63px)":!h,"H(160px)":h})},n(1).createElement(n(278),a({className:"Td(n)"},E),n(1).createElement("u",{className:"StretchedBox"}),this.renderCommentThread(r.topRatedComments,m))):n(1).createElement("div",{className:"Pos(r) H(28px) Mb(7px) Cf"},n(1).createElement("div",{className:"Fl(start) Pos(r) W(32px)"},n(1).createElement(n(278),N,n(1).createElement(n(2049),{items:u,index:m}))),n(1).createElement("div",{className:"Ov(h) Pstart(4px)"},n(1).createElement(n(278),a({className:"Td(n)"},E),n(1).createElement("u",{className:"StretchedBox"}),n(1).createElement(n(2048),{className:"C(#000) Fz(12px) Lh(14px) LineClamp(2,28px)",items:r.topRatedComments,index:m})))),n(1).createElement("div",{className:"Pos(r) Cf Bdtw(1px) Bdtc(#d9d9d9) Bdts(s) Pt(6px)"},n(1).createElement(n(278),a({className:"Fl(start) Fz(12px) Fw(b) Td(n) C(#0078ff) Pt(2px)"},P),this.props.intl.formatMessage({id:"JOIN_THE_CONVERSATION",defaultMessage:"Join the conversation"})),h?null:n(1).createElement("div",{className:"Fl(end) C(#878c9b) Fw(b)"},n(1).createElement(i,{i13nModel:I,className:"jtdBtnPrev Lh(12px) Px(5px) Py(2px)",onClick:this.props.onClickPrev},n(1).createElement(o,{asset:n(1154),color:"#878c9b",height:"12"})),n(1).createElement("span",{className:"Pos(r) Fz(11px) T(-2px)"},l+1," / ",c),n(1).createElement(i,{i13nModel:I,className:"jtdBtnNext Lh(12px)  Px(5px) Py(2px)",onClick:this.props.onClickNext},n(1).createElement(o,{asset:n(490),color:"#878c9b",height:"12"})))),n(1).createElement("div",{className:"Pos(a) T(-8px) End(-10px) W(39px) H(39px) Bg(commentBubbleImg) Bgz(39px,39px)"},n(1).createElement(n(278),C,n(1).createElement("u",{className:"StretchedBox"})),n(1).createElement("p",{className:"Fz(11px) Fw(b) C(#ffffff) Lts(0) Ta(c) Mt(4px)"},n(1295).getCommentString(r.commentCount)),n(1).createElement("div",{className:"W(18px) H(6px) Bg(typingIcon) Bgz(18px,6px) Mstart(10px)"})))}}))},2235:function(e,t,n){"use strict";var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=n(1584).hide,i=n(1584).show,o=n(28).FormattedMessage,r=n(17).I13nDiv,l=n(28).injectIntl,c=n(1160).TypeIcon,u="undefined"!=typeof document?document:null;e.exports=l(n(4)({autobind:!1,displayName:"DiscussionListItem",mixins:[n(14)],propTypes:{ad:n(0).object,appendQueryParam:n(0).object,category:n(0).string,data:n(0).object.isRequired,index:n(0).number,prerenderConfig:n(0).object,target:n(0).string,renderFlyoutInOverlay:n(0).bool},contextTypes:{i13n:n(0).object},getDefaultProps:function(){return{ad:null,appendQueryParam:{},data:null,index:0,prerenderConfig:null,renderFlyoutInOverlay:!1}},getInitialState:function(){return this.currentNode=null,this.flyoutTimer=null,{itemHover:!1,renderFlyout:!1}},componentWillMount:function(){this.onMouseEnterItem=this.onMouseEnterItem.bind(this),this.onMouseLeaveItem=this.onMouseLeaveItem.bind(this),this.handleScroll=this.handleScroll.bind(this)},componentDidMount:function(){this.currentNode=n(10).findDOMNode(this),this.subscriber=n(59)("scrollStart",this.handleScroll)},componentDidUpdate:function(){this.currentNode=n(10).findDOMNode(this)},componentWillUnmount:function(){this.subscriber&&this.subscriber.unsubscribe(),this.clearTimers()},clearTimers:function(){clearTimeout(this.flyoutTimer)},handleScroll:function(e){this.state.renderFlyout&&this.setState({renderFlyout:!1}),this.shouldRenderFlyoutInOverlay()&&this.hideFlyoutInOverlay()},fireBeacon:function(){this.props.isSidekick?this.context.i13n.executeEvent("beacon",{beaconType:"beaconClick",arguments:["sdkick",null,null,{itc:2,subsec:"sentiment"}]}):this.context.i13n.executeEvent("beacon",{beaconType:"beaconClick",arguments:["jtc",null,null,{itc:2,subsec:"module"}]})},fixZIndex:function(e,t){if(u){var n=u.getElementById("Main");n?("enter"===e?(n.style.zIndex=0,n.style.position="relative"):(n.style.zIndex="",n.style.position=""),t()):t()}},shouldRenderFlyoutInside:function(){var e=this.props,t=n(2)(this.props,["data","commentCount"]);return e.enableFlyout&&t&&!e.renderFlyoutInOverlay},shouldRenderFlyoutInOverlay:function(){var e=this.props,t=n(2)(this.props,["data","commentCount"]);return e.enableFlyout&&t&&e.renderFlyoutInOverlay},onMouseEnterItem:function(){var e=this;e.state.renderFlyout||e.fireBeacon(),e.clearTimers(),e.flyoutTimer=setTimeout(function(){var t=e.shouldRenderFlyoutInside(),n=e.shouldRenderFlyoutInOverlay(),a={itemHover:!0,renderFlyout:t};return n?void e.showFlyoutInOverlay():t?void e.fixZIndex("enter",function(){e.setState(a)}):void e.setState(a)},e.props.delay)},onMouseLeaveItem:function(){var e=this;e.clearTimers(),e.flyoutTimer=setTimeout(function(){var t=e.shouldRenderFlyoutInside(),n={itemHover:!1,renderFlyout:!1};return e.shouldRenderFlyoutInOverlay()?void e.hideFlyoutInOverlay():t?void e.fixZIndex("leave",function(){e.setState(n)}):void e.setState(n)},e.props.delay)},getId:function(){var e=this.props.data||{},t=this.props.index||0;return"jtc-"+(e.uuid||e.id||"-flyout-item")+"-"+t},showFlyoutInOverlay:function(){this.executeAction(i,{id:this.getId(),data:{align:"left",alignToViewport:!0,Component:n(1808),componentProps:this.getFlyoutProps(),flyoutWidth:370,flyoutHeight:this.props.ad?535:445,parentNode:this.currentNode,paddingRight:20,relativeToParent:!1}})},hideFlyoutInOverlay:function(){this.executeAction(s,{id:this.getId()})},renderComment:function(e){var t=this.props.data,s={className:n(5)("Pos(r) Cur(p) Bdw(0) Va(m) Td(n) P(0) D(ib)"),model:Object.assign({},{elm:"cmmt_go",pos:1,slk:"comments",subsec:t.commentCount})},i=t.link||t.url||"";s.followLink="/"!==i.charAt(0),s.href=i,s.model.itc=0,s.navParams=Object.assign({},e,{collapseContent:!0,uuid:t.uuid||""}),s.target=this.props.target;var r=this.props.intl.formatNumber(t.commentCount)+" ";return n(1).createElement(n(278),a({className:"Td(n)"},s),n(1).createElement("span",{className:"Fz(11px) Ta(start) C(#979ba7) C(#188fff):h"},r,n(1).createElement(o,{id:"REACTIONS",defaultMessage:"reactions"})))},getFlyoutProps:function(){var e=this.props.data,t=this.getSentimentsRatio();if(!e.topRatedComments||!t)return null;var a,s=this.props.isSidekick,i=n(1295).updateQueryParam(e.link||e.url||"",this.props.appendQueryParam),o=t.negative,r=t.neutral,l=t.positive,c=n(1295).getBaseI13n(e,this.props.index,this.props.category),u=l,d=90*(l-o)/100;return o>l?(a="negative",u=o):a="positive",r>u&&(a="neutral"),{ad:this.props.ad,adchoicesUrl:this.props.adchoicesUrl,comments:e.topRatedComments,commentsCount:e.commentCount,index:this.props.index,isSidekick:s,model:c,nativeAdDimension:this.props.nativeAdDimension,navParams:this.props.navParams,onMouseEnter:this.onMouseEnterItem,onMouseLeave:this.onMouseLeaveItem,sentiment:a,sentimentDegree:d,sponsoredUrl:this.props.sponsoredUrl,title:e.title,url:i,uuid:e.uuid}},renderFlyout:function(){var e=this.getFlyoutProps();return e?n(1).createElement(n(1537),{align:"left",alignToViewport:!0,Component:n(1808),componentProps:e,flyoutWidth:370,flyoutHeight:this.props.ad?535:445,parentNode:this.currentNode,paddingRight:20,relativeToParent:!0}):null},getSentimentsRatio:function(){var e=this.props.data,t=e.total_negative_comments,n=e.total_neutral_comments,a=e.total_postive_comments;if(void 0===t||void 0===n||void 0===a)return null;var s=t+n+a;if(!s)return null;var i=Math.round(t/s*100),o=Math.round(n/s*100);return{negative:i,neutral:o,positive:100-i-o}},renderSentiment:function(){var e=this.getSentimentsRatio();if(!e)return null;var t="W(15px) H(15px) D(ib) Va(tt) Bgz(330%)",a=e.neutral+"%",s=e.negative+"%",i=e.positive+"%";return n(1).createElement("div",{className:"sentiments W(100%) Mt(4px) Va(b)"},n(1).createElement("span",{className:"D(ib) Pend(6px)"},n(1).createElement("span",{className:n(5)(t,"Bg(positiveImg)")}),n(1).createElement("span",{className:n(5)("C(#1ac567)","Pstart(3px) Fz(11px) Fw(b)")},i)),n(1).createElement("span",{className:"D(ib) Pend(6px)"},n(1).createElement("span",{className:n(5)(t,"Bg(neutralImg)")}),n(1).createElement("span",{className:n(5)("C(#ff7b12)","Pstart(3px) Fz(11px) Fw(b)")},a)),n(1).createElement("span",{className:"D(ib)"},n(1).createElement("span",{className:n(5)(t,"Bg(negativeImg)")}),n(1).createElement("span",{className:n(5)("C(#ff4d52)","Pstart(3px) Fz(11px) Fw(b)")},s)))},render:function(){var e=this.props,t=this.state,s=e.data;if(!s)return null;var i=n(1295).updateQueryParam(s.link||s.url||"",e.appendQueryParam),o=e.prerenderConfig||{},l=e.isSidekick;s.id=s.uuid;var u,d=Object.assign({category:"",pageTitle:s.title,url:i,uuid:s.id},e.navParams),m={followLink:s.bypassModal||"/"!==i.charAt(0),href:i,target:s.off_network?e.target:void 0,navParams:d},p=n(1295).getBaseI13n(s,e.index,e.category),h=l?"medium":"img:150x111",f=n(1295).getResizedImage(s.imageSize,h),g=n(1295).isLazyLoad(e.index,e.forceLoadImageCount,l);if(f){var v,y=n(5)("Fl(start) Pos(r) Z(1) W(150px)"),x=Math.round(f.height/f.width*100),b=Object.assign({},m,{className:"D(b) H(0) Ov(h) Bdrs(2px)",model:Object.assign({},{elm:"img",subsec:"module"},p),style:{paddingBottom:x+"%"}}),E={alt:s.title,checkPosition:!1,className:"W(100%) Trsdu(0s)!",forceLoad:g,url:f.url},N=n(1).createElement("span",{className:"Tsh(discussionTextShadow) Pos(a) Fz(32px) Lh(30px) Start(8px) B(6px) C(#f8fafc) Fw(b)"},e.index+1),C=n(1).createElement("div",{className:"Bg(discussionImgRankGradient) StretchedBox"});if(e.typeIcon&&l){v=n(1).createElement(c,{iconSize:20,lazyLoad:!1,orbSize:50,type:e.typeIcon})}u=n(1).createElement("div",{className:y},n(1).createElement(n(278),b,n(1).createElement(n(73),E),v,C,l?null:N))}var P=Object.assign({},m,{className:"Td(n)",model:Object.assign({},{elm:"hdln",subsec:"module"},p)}),S=n(5)("Fw(b) Fz(13px) Lh(15px) LineClamp(4,60px) Pos(r)",{"C(#000000)":!t.itemHover,"C(#0078ff)":t.itemHover});return n(1).createElement("div",{key:e.index,className:"Py(10px) Pos(r)",onMouseEnter:this.onMouseEnterItem,onMouseLeave:this.onMouseLeaveItem},n(1).createElement(n(1149),a({className:"Cf",nodeName:"div",payload:{url:i}},o),n(1).createElement(r,{i13nModel:p},u,n(1).createElement("div",{className:"H(111px) Ov(h) Pstart(15px) Pos(r)"},n(1).createElement("p",{className:"W(27px) H(1px) Bdtw(1px) Bdts(s) Bdtc(#d8dade) Mb(6px)"}),n(1).createElement("h3",{className:"Mb(5px)"},n(1).createElement(n(278),P,n(1).createElement("div",{className:S},s.title))),s.commentCount?n(1).createElement("div",{className:"Pos(a) W(100%) B(0)"},this.renderComment(d),e.enableSentiments?this.renderSentiment():null):null))),t.renderFlyout?this.renderFlyout():null)}}))},2631:function(e,t,n){"use strict";var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=n(28).FormattedMessage;e.exports=n(4)({autobind:!1,displayName:"CommentSentimentsBar",propTypes:{data:n(0).object.isRequired,enableSentiments:n(0).bool},getDefaultProps:function(){return{data:{},enableSentiments:!1}},renderComment:function(e){var t=this.props.data,i=this.props.intl,o=t.commentCount,r={className:"Cur(p) Va(m) Td(n) P(0)",model:Object.assign({},{elm:"cmmt_go",pos:1,slk:"comments",subsec:o})},l=t.link||t.url||"";r.followLink="/"!==l.charAt(0),r.href=l,r.model.itc=0,r.navParams=Object.assign({},e,{collapseContent:!0,uuid:t.uuid||""});var c=(i?i.formatNumber(o):o)+" ";return n(1).createElement(n(278),a({className:"Td(n)"},r),n(1).createElement("span",{className:"Fz(11px) Ta(start) C(#787d82) C(#188fff):h"},c,n(1).createElement(s,{id:"REACTIONS",defaultMessage:"reactions"})))},renderSentiment:function(){var e=this.props.data,t=n(1295).getSentimentsRatio(e.total_negative_comments,e.total_postive_comments,e.total_neutral_comments);if(!t)return null;var a="W(15px) H(15px) D(ib) Va(tt) Bgz(330%)",s=t.neutral+"%",i=t.negative+"%",o=t.positive+"%";return n(1).createElement("span",{className:"sentiments Fl(end)"},n(1).createElement("span",{className:"Pend(6px)"},n(1).createElement("span",{className:n(5)(a,"Bg(positiveImg)")}),n(1).createElement("span",{className:n(5)("C(#1ac567)","Pstart(3px) Fz(11px) Fw(b)")},o)),n(1).createElement("span",{className:"Pend(6px)"},n(1).createElement("span",{className:n(5)(a,"Bg(neutralImg)")}),n(1).createElement("span",{className:n(5)("C(#ff7b12)","Pstart(3px) Fz(11px) Fw(b)")},s)),n(1).createElement("span",null,n(1).createElement("span",{className:n(5)(a,"Bg(negativeImg)")}),n(1).createElement("span",{className:n(5)("C(#ff4d52)","Pstart(3px) Fz(11px) Fw(b)")},i)))},render:function(){var e=this.props,t=e.data;if(!t)return null;var a={category:"",pageTitle:t.title,url:t.link||t.url,uuid:t.id||t.uuid};return n(1).createElement("div",null,this.renderComment(a),e.enableSentiments?this.renderSentiment():null)}})},2632:function(e,t,n){"use strict";var a=n(17).I13nDiv,s=n(28).injectIntl,i=n(1160).TypeIcon;e.exports=s(n(4)({autobind:!1,displayName:"DiscussionCardItem",mixins:[n(14),n(2638)],render:function(){var e=this.props,t=this.state,s=e.data;if(!s)return null;var o=s.link||s.url;s.id=s.uuid;var r,l=Object.assign({category:"",pageTitle:s.title,url:o,uuid:s.id},e.navParams),c={followLink:s.bypassModal||"/"!==o.charAt(0),href:o,navParams:l},u=n(1295).getBaseI13n(s,e.index,e.category),d=n(1295).getResizedImage(s.imageSize,"medium"),m=n(1295).isLazyLoad(e.index,e.forceLoadImageCount);if(d){var p=Math.round(d.height/d.width*100),h={alt:s.title,checkPosition:!1,className:"Bgz(cv) Bdrs(2px) Trsdu(0s)! Mb(6px)",forceLoad:m,nodeName:"div",url:d.url};h.style={paddingBottom:p+"%"};var f={maxWidth:d.width+"px"},g=n(1).createElement(i,{iconSize:26,lazyLoad:!1,orbSize:66,type:e.typeIcon});r=n(1).createElement("div",{className:"Pos(r)",style:f},n(1).createElement(n(73),h),g)}var v=Object.assign({},c,{className:"Td(n)",model:Object.assign({},{elm:"hdln",subsec:"module"},u)}),y=n(5)("Fw(600) Fz(14px) Lh(16px) LineClamp(4,64px)",{"C(#000000)":!t.itemHover,"C(#0078ff)":t.itemHover}),x={data:s,enableSentiments:e.enableSentiments,intl:e.intl};return n(1).createElement(a,{key:e.index,className:"Py(10px) Pos(r)",i13nModel:u,onMouseEnter:this.onMouseEnterItem,onMouseLeave:this.onMouseLeaveItem},r,n(1).createElement("h3",{className:"Pb(6px)"},n(1).createElement(n(278),v,n(1).createElement("span",{className:y},s.title),n(1).createElement("u",{className:"StretchedBox Z(1)"}))),s.commentCount?n(1).createElement(n(2631),x):null)}}))},2633:function(e,t,n){"use strict";var a=n(17).I13nDiv,s="undefined"!=typeof window?window:null;e.exports=n(4)({autobind:!1,displayName:"DiscussionCarousel",mixins:[n(14)],contextTypes:{session:n(0).object},statics:{initializeAction:n(2233)},propTypes:{className:n(0).string,componentConfig:n(0).object},getDefaultProps:function(){return{componentConfig:{}}},getInitialState:function(){return this.discussionStore=this.getStore(n(2050)),this._getState(this.props)},_getState:function(e){var t=e.componentConfig||{},n=t.category,a=t.ui||{},s=a.autoRotation,i=this.discussionStore.getDiscussionList(n)||[];return{autoRotation:s,discussions:i,category:n,index:0,isHeadlineReaction:t.isHeadlineReaction||!1,total:i.length}},_jump:function(e){this.setState({index:n(1295).getLoopIndex(this.state.index,e,this.state.total)})},_handlePrev:function(e){this._jump(-1)},_handleNext:function(e){this._jump(1)},_handleMouseEnter:function(e){this.setState({autoRotation:!1})},_handleMouseLeave:function(e){this.setState({autoRotation:n(2)(this.props,["componentConfig","ui","autoRotation"])})},_enableAutoRotation:function(){if(s){var e=this,t=n(2)(e.props,["componentConfig","ui","storyRotationInterval"]);e._disableAutoRotation(),e.timer=setInterval(function(){e._jump(1)},t)}},_disableAutoRotation:function(){s&&this.timer&&clearInterval(this.timer)},componentWillReceiveProps:function(e){this.state.category!==n(2)(e,["componentConfig","category"])&&this.setState(this._getState(e))},componentWillMount:function(){this._handlePrev=this._handlePrev.bind(this),this._handleNext=this._handleNext.bind(this),this._handleMouseEnter=this._handleMouseEnter.bind(this),this._handleMouseLeave=this._handleMouseLeave.bind(this)},componentWillUnmount:function(){this._disableAutoRotation()},render:function(){var e=this.props,t=this.state,s=t.discussions,i=e.componentConfig,o=t.total,r=this.state.isHeadlineReaction;if(0===o)return null;t.autoRotation?this._enableAutoRotation():this._disableAutoRotation();var l=t.index,c=n(2)(i,["ui","commentRotationInterval"]),u=!0,d="Bgc(#ffffff) Bxz(bb)";if(r){var m=this.context.session.getBucketMeta();u="true"===n(2)(m,["feature.hrShowBorder"],"true")}u&&(d+=" Bdrs(2px) Bxsh(jtdCardShadow) Bdw(1px) Bdc(#d9d9d9) Bds(s)");var p=Object.assign({cat:i.category,itc:0,sec:"jtd"},i.i13n);return r&&s[l]&&!s[l].topRatedComments?null:n(1).createElement("div",null,i.headline?n(1).createElement("h3",{className:"Fz(15px) Fw(b) Lh(27px) Mb(10px)"},i.headline):null,n(1).createElement(a,{className:n(5)("mini-jtd Pos(r)",e.className),i13nModel:p,onMouseEnter:this._handleMouseEnter,onMouseLeave:this._handleMouseLeave},n(1).createElement(n(1172),{transitionName:"jtdBgTrans",transitionEnterTimeout:350,transitionLeaveTimeout:350},n(1).createElement("div",{key:"jtd-bg-"+l,className:n(5)("Pos(a) T(10px) Start(5px) End(5px) H(128px)",d)})),n(1).createElement("div",{id:this.props.id,className:n(5)("Pos(r)",{"H(133px)":!r,"H(270px) Mb(20px)":r})},n(1).createElement(n(1172),{transitionName:"jtdTrans",transitionEnterTimeout:350,transitionLeaveTimeout:350},n(1).createElement(n(2234),{key:"jtd-"+l,appendQueryParam:i.appendQueryParam,autoRotation:t.autoRotation,className:n(5)("Pos(a) H(100%) W(100%)",d),category:t.category,i13n:i.i13n,rotationInterval:c,renderTarget:i.linkRenderTarget,data:s[l],index:l,isHeadlineReaction:r,total:o,onClickPrev:this._handlePrev,onClickNext:this._handleNext})))))}})},2634:function(e,t,n){"use strict";var a=n(28).FormattedMessage,s=n(17).I13nDiv;e.exports=n(4)({autobind:!1,displayName:"DiscussionList",mixins:[n(14)],contextTypes:{i13n:n(0).object},statics:{componentConfig:{name:"componentDiscussionList"},initializeAction:n(2233),storeListeners:[n(1144)]},getInitialState:function(){return this.discussionStore=this.getStore(n(2050)),this.nativeAdStore=this.getStore(n(1144)),{ads:null}},componentDidMount:function(){var e=this.props.componentConfig,t=e.category,a=this.discussionStore.getDiscussionList(t)||[];this.loadNativeAd(),this.fireLinkView(),e.dispatchContentStore&&this.executeAction(n(1147),{items:a,prefetch:e.usePrefetch,snippets:!0,sourceId:this.props.id})},componentWillMount:function(){this.onChange=this.onChange.bind(this)},onChange:function(e){if("jtd-community-id"===e.nativeAd){this.setState({ads:(this.nativeAdStore.popAds("jtd-community-id")||n(6).List()).toJS()})}},fireLinkView:function(e){this.context.i13n.executeEvent("beacon",{beaconType:"beaconLinkViews",arguments:[[{sec:"jtc",_links:[{subsec:"module"}]}]]},e)},loadNativeAd:function(){var e=this.props.componentConfig,t=n(2)(e,["ads","adsCount"]),a=n(2)(e,["ads","enableGeminiAd"]),s=n(2)(e,["ads","nativeAdDimension"]);a&&this.executeAction(n(1158),{id:"jtd-community-id",dimensions:s,count:t})},renderList:function(){var e=this.state.ads,t=this.props.componentConfig,a=n(2)(t,["ads","adchoicesUrl"]),s=t.appendQueryParam,i=t.category,o=n(2)(t,["ui","flyoutDelay"]),r=this.discussionStore.getDiscussionList(i)||[],l=t.flyoutEnabled,c=t.sentimentCommentsEnabled,u=n(2)(t,["ads","nativeAdDimension"]),d=t.prerender||{},m=n(2)(t,["ads","sponsoredUrl"]),p=n(2)(t,["offnet","target"]);return r=r.map(function(h,f){var g,v=e&&e[f],y=t.ui||{};if(y.storyline_navparam_enabled){var x=y.stream_navparam_count||0;g={relatedUuids:n(1295).getRelatedUuids(x,r,f)}}return n(1).createElement(n(2235),{key:f,ad:v,adchoicesUrl:a,appendQueryParam:s,category:i,data:h,delay:o,enableFlyout:l,enableSentiments:c,index:f,navParams:g,nativeAdDimension:u,sponsoredUrl:m,target:p,prerenderConfig:d})})},render:function(){var e=this.props.componentConfig;if(0===(this.discussionStore.getDiscussionList(e.category)||[]).length)return null;var t=Object.assign({cat:e.category,itc:2,sec:"jtc",subsec:"module"});return n(1).createElement(s,{className:"Pos(r)","data-test-locator":"jtd",i13nModel:t},n(1).createElement("h2",{className:"Fz(15px) Fw(b) C(#000) M(0) Mb(10px)"},n(1).createElement(a,{id:"COMMUNITY_JTC"})),this.renderList())}})},2635:function(e,t,n){"use strict";e.exports=n(4)({autobind:!1,displayName:"DiscussionStreamItem",propTypes:{config:n(0).object.isRequired,data:n(0).object.isRequired},render:function(){var e=this.props,t=e.config,a=t.category,s=e.data;if(!s)return null;s=n(1295).processStreamData(s);var i=t.flyout_enabled,o=t.sentiment_comments_enabled,r=n(1295).isSidekick(a),l=n(1295).getTypeIcon(s);return n(1).createElement(n(2632),{category:a,data:s,enableFlyout:i,enableSentiments:o,forceLoadImageCount:4,index:e.index,isSidekick:r,navParams:e.navParams,renderFlyoutInOverlay:!0,typeIcon:l})}})},2636:function(e,t,n){"use strict";var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=n(1584).hide,i=n(1584).show,o="undefined"==typeof window;e.exports=n(4)({autobind:!1,displayName:"FlyoutContainer",mixins:[n(210)],statics:{storeListeners:[n(1809)]},getInitialState:function(){return this.flyoutStore=this.getStore(n(1809)),this.getState()},onChange:function(e){this.setState(this.getState())},getState:function(){return{flyouts:this.flyoutStore.getFlyouts()}},componentWillMount:function(){o||(this.onChange=this.onChange.bind(this),this.onMouseEnter=this.onMouseEnter.bind(this),this.onMouseLeave=this.onMouseLeave.bind(this))},onMouseEnter:function(e){var t=this;return function(){t.executeAction(i,{id:e})}},onMouseLeave:function(e,t){var n=this;return function(){n.executeAction(s,{delay:t,id:e})}},renderFlyouts:function(){var e=[],t=this.state.flyouts||{};for(var s in t)if(t[s]&&t[s].Component&&t[s].show){var i=t[s],o=t[s].hideDelay;e.push(n(1).createElement(n(1537),a({key:s,onMouseEnter:this.onMouseEnter(s),onMouseLeave:this.onMouseLeave(s,o)},i)))}return e},render:function(){var e=this.renderFlyouts();return 0===e.length?null:n(1).createElement("div",{className:"Pos(a)"},e)}})},2637:function(e,t,n){"use strict";var a=n(28).FormattedMessage,s=n(1141).Controls,i=n(17).I13nAnchor,o=n(30).Icon;e.exports=n(4)({autobind:!1,displayName:"NativeAd",getDefaultProps:function(){return{adChoicesUrl:"https://info.yahoo.com/privacy/us/yahoo/relevantads.html",sponsoredUrl:"http://help.yahoo.com/kb/index?page=content&y=PROD_FRONT&locale=en_US&id=SLN14553"}},render:function(){var e=this.props,t=e.data;if(!t)return null;var r=t.adChoicesUrl||e.choicesUrl,l=n(2)(t,["resizedImage",e.nativeAdDimension]),c=e.sponsoredUrl;return n(1).createElement("div",{className:this.props.className},n(1).createElement(s.PrimaryImage,{checkPosition:!1,className:"D(ib) W(118px) H(61px) Pstart(26px)",data:t,imageOverride:l}),n(1).createElement("div",{className:"D(ib) Va(t) W(180px) Pstart(11px)"},n(1).createElement(s.PrimaryLink,{className:"Td(n)",data:t},n(1).createElement(s.Headline,{className:"Fz(13px) C(#000000) Fw(500) LineClamp(2,36)",data:t}),n(1).createElement("u",{className:"StretchedBox Z(1)"})),n(1).createElement("div",{className:"Pt(3px) Z(2) Pos(r)"},n(1).createElement(i,{href:c,className:"Td(n) Fw(b) Fz(11px) Pend(1px) C(#979ba7)",target:"_blank"},n(1).createElement(a,{id:"SPONSORED",defaultMessage:"Sponsored"})),n(1).createElement(i,{href:r,className:"Td(n) C(#979ba7)",target:"_blank"},n(1).createElement(o,{asset:n(488),color:"#979ba7",height:13})),n(1).createElement(s.Publisher,{className:"Td(n) Pstart(8px) Fz(11px) C(#979ba7)",target:"_blank",data:t}))))}})},2638:function(e,t,n){"use strict";var a=n(1584).hide,s=n(1584).show;e.exports={autobind:!1,propTypes:{ad:n(0).object,category:n(0).string,data:n(0).object.isRequired,index:n(0).number,renderFlyoutInOverlay:n(0).bool},contextTypes:{i13n:n(0).object},getDefaultProps:function(){return{ad:null,category:null,data:null,index:0,renderFlyoutInOverlay:!1}},getInitialState:function(){return this.currentNode=null,{itemHover:!1}},componentWillMount:function(){this.onMouseEnterItem=this.onMouseEnterItem.bind(this),this.onMouseLeaveItem=this.onMouseLeaveItem.bind(this),this.handleScroll=this.handleScroll.bind(this)},componentDidMount:function(){this.currentNode=n(10).findDOMNode(this),this.subscriber=n(59)("scrollStart",this.handleScroll)},componentDidUpdate:function(){this.currentNode=n(10).findDOMNode(this)},componentWillUnmount:function(){this.subscriber&&this.subscriber.unsubscribe()},fireBeacon:function(){this.props.isSidekick?this.context.i13n.executeEvent("beacon",{beaconType:"beaconClick",arguments:["sdkick",null,null,{itc:2,subsec:"sentiment"}]}):this.context.i13n.executeEvent("beacon",{beaconType:"beaconClick",arguments:["jtc",null,null,{itc:2,subsec:"module"}]})},handleScroll:function(e){this.shouldRenderFlyoutInOverlay()&&this.hideFlyoutInOverlay(!1)},hideFlyoutInOverlay:function(e){this.executeAction(a,{delay:e,id:this.getId()})},getFlyoutProps:function(){var e=this.props.data,t=n(1295).getSentimentsRatio(e.total_negative_comments,e.total_postive_comments,e.total_neutral_comments);if(!e.topRatedComments||!t)return null;var a,s=this.props.isSidekick,i=n(1295).updateQueryParam(e.link||e.url||"",this.props.appendQueryParam),o=t.negative,r=t.neutral,l=t.positive,c=n(1295).getBaseI13n(e,this.props.index,this.props.category),u=l,d=90*(l-o)/100;return o>l?(a="negative",u=o):a="positive",r>u&&(a="neutral"),{ad:this.props.ad,adchoicesUrl:this.props.adchoicesUrl,comments:e.topRatedComments,commentsCount:e.commentCount,index:this.props.index,isSidekick:s,model:c,nativeAdDimension:this.props.nativeAdDimension,navParams:this.props.navParams,onMouseEnter:this.onMouseEnterItem,onMouseLeave:this.onMouseLeaveItem,sentiment:a,sentimentDegree:d,sponsoredUrl:this.props.sponsoredUrl,title:e.title,url:i,uuid:e.uuid}},getId:function(){var e=this.props.data||{},t=this.props.index||0;return"jtc-"+(e.uuid||e.id||"-flyout-item")+"-"+t},onMouseEnterItem:function(){this.state.itemHover||this.fireBeacon(),this.shouldRenderFlyoutInOverlay()&&this.showFlyoutInOverlay(),this.setState({itemHover:!0})},onMouseLeaveItem:function(){this.shouldRenderFlyoutInOverlay()&&this.hideFlyoutInOverlay(!0),this.setState({itemHover:!1})},getFlyoutHeight:function(){var e=this.props.data,t=e.topRatedComments&&e.topRatedComments.length,n=535;return this.props.ad||(n=n-78-16),t=t>=3?2:t,n-=99*(2-t)},showFlyoutInOverlay:function(){this.getFlyoutProps()&&this.executeAction(s,{id:this.getId(),data:{align:"left",alignToViewport:!0,Component:n(1808),componentProps:this.getFlyoutProps(),flyoutWidth:370,flyoutHeight:this.getFlyoutHeight(),paddingRight:20,parentNode:this.currentNode,relativeToParent:!1}})},shouldRenderFlyoutInOverlay:function(){var e=this.props,t=n(2)(this.props,["data","commentCount"]);return e.enableFlyout&&t&&e.renderFlyoutInOverlay}}}});